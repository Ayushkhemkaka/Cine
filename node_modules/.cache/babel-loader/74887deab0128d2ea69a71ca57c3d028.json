{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/ayush/Desktop/Ayush/cine-movie/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"C:/Users/ayush/Desktop/Ayush/cine-movie/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\ayush\\\\Desktop\\\\Ayush\\\\cine-movie\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Chip}from\"@mui/material\";import axios from\"axios\";import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Genres=function Genres(props){var type=props.type,setPage=props.setPage,genres=props.genres,setGenres=props.setGenres;var clickOnGenresArray=function clickOnGenresArray(genre){setGenres({selectedGenres:[].concat(_toConsumableArray(genres.selectedGenres),[genre]),genresArray:genres.genresArray.filter(function(g){return g.id!==genre.id;})});setPage(1);};var clickOnSelectedGenres=function clickOnSelectedGenres(genre){setGenres({genresArray:[genre].concat(_toConsumableArray(genres.genresArray)),selectedGenres:genres.selectedGenres.filter(function(g){return g.id!==genre.id;})});setPage(1);};useEffect(function(){var fetchGenres=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.themoviedb.org/3/genre/\".concat(type,\"/list?api_key=3a05ea73439bb4d6bb0aa75de8977942&language=en-US\"));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setGenres({genresArray:data.genres,selectedGenres:[]});case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchGenres(){return _ref.apply(this,arguments);};}();fetchGenres();return function(){setGenres({genresArray:[],selectedGenres:[]});};},[type,setGenres]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"5px\"},children:[genres.selectedGenres&&genres.selectedGenres.map(function(genre){return/*#__PURE__*/_jsx(Chip,{label:genre.name,color:\"primary\",sx:{margin:\"3px\"},clickable:true,onClick:function onClick(){return clickOnSelectedGenres(genre);},onDelete:function onDelete(){return clickOnSelectedGenres(genre);}},genre.id);}),genres.genresArray&&genres.genresArray.map(function(genre){return/*#__PURE__*/_jsx(Chip,{label:genre.name,sx:{background:\"#f29200\",margin:\"3px\"},clickable:true,onClick:function onClick(){return clickOnGenresArray(genre);}},genre.id);})]});};export default Genres;","map":{"version":3,"names":["Chip","axios","useEffect","Genres","props","type","setPage","genres","setGenres","clickOnGenresArray","genre","selectedGenres","genresArray","filter","g","id","clickOnSelectedGenres","fetchGenres","get","data","padding","map","name","margin","background"],"sources":["C:/Users/ayush/Desktop/Ayush/cine-movie/src/components/Genres/Genres.js"],"sourcesContent":["import { Chip } from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Genres = (props) => {\r\n  const { type, setPage, genres, setGenres } = props;\r\n\r\n  const clickOnGenresArray = (genre) => {\r\n    setGenres({\r\n      selectedGenres: [...genres.selectedGenres, genre],\r\n      genresArray: genres.genresArray.filter((g) => g.id !== genre.id),\r\n    });\r\n    setPage(1);\r\n  };\r\n  const clickOnSelectedGenres = (genre) => {\r\n    setGenres({\r\n      genresArray: [genre, ...genres.genresArray],\r\n      selectedGenres: genres.selectedGenres.filter((g) => g.id !== genre.id),\r\n    });\r\n    setPage(1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchGenres = async () => {\r\n      const { data } = await axios.get(\r\n        `https://api.themoviedb.org/3/genre/${type}/list?api_key=3a05ea73439bb4d6bb0aa75de8977942&language=en-US`\r\n      );\r\n      setGenres({\r\n        genresArray: data.genres,\r\n        selectedGenres: [],\r\n      });\r\n    };\r\n    fetchGenres();\r\n    return () => {\r\n      setGenres({\r\n        genresArray: [],\r\n        selectedGenres: [],\r\n      });\r\n    };\r\n  }, [type, setGenres]);\r\n\r\n  return (\r\n    <div style={{ padding: \"5px\" }}>\r\n      {genres.selectedGenres &&\r\n        genres.selectedGenres.map((genre) => (\r\n          <Chip\r\n            key={genre.id}\r\n            label={genre.name}\r\n            color=\"primary\"\r\n            sx={{ margin: \"3px\" }}\r\n            clickable\r\n            onClick={() => clickOnSelectedGenres(genre)}\r\n            onDelete={() => clickOnSelectedGenres(genre)}\r\n          />\r\n        ))}\r\n      {genres.genresArray &&\r\n        genres.genresArray.map((genre) => (\r\n          <Chip\r\n            key={genre.id}\r\n            label={genre.name}\r\n            sx={{ background: \"#f29200\", margin: \"3px\" }}\r\n            clickable\r\n            onClick={() => clickOnGenresArray(genre)}\r\n          />\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Genres;\r\n"],"mappings":"4YAAA,OAASA,IAAT,KAAqB,eAArB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,OAA1B,C,wFAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,CAACC,KAAD,CAAW,CACxB,GAAQC,KAAR,CAA6CD,KAA7C,CAAQC,IAAR,CAAcC,OAAd,CAA6CF,KAA7C,CAAcE,OAAd,CAAuBC,MAAvB,CAA6CH,KAA7C,CAAuBG,MAAvB,CAA+BC,SAA/B,CAA6CJ,KAA7C,CAA+BI,SAA/B,CAEA,GAAMC,mBAAkB,CAAG,QAArBA,mBAAqB,CAACC,KAAD,CAAW,CACpCF,SAAS,CAAC,CACRG,cAAc,8BAAMJ,MAAM,CAACI,cAAb,GAA6BD,KAA7B,EADN,CAERE,WAAW,CAAEL,MAAM,CAACK,WAAP,CAAmBC,MAAnB,CAA0B,SAACC,CAAD,QAAOA,EAAC,CAACC,EAAF,GAASL,KAAK,CAACK,EAAtB,EAA1B,CAFL,CAAD,CAAT,CAIAT,OAAO,CAAC,CAAD,CAAP,CACD,CAND,CAOA,GAAMU,sBAAqB,CAAG,QAAxBA,sBAAwB,CAACN,KAAD,CAAW,CACvCF,SAAS,CAAC,CACRI,WAAW,EAAGF,KAAH,4BAAaH,MAAM,CAACK,WAApB,EADH,CAERD,cAAc,CAAEJ,MAAM,CAACI,cAAP,CAAsBE,MAAtB,CAA6B,SAACC,CAAD,QAAOA,EAAC,CAACC,EAAF,GAASL,KAAK,CAACK,EAAtB,EAA7B,CAFR,CAAD,CAAT,CAIAT,OAAO,CAAC,CAAD,CAAP,CACD,CAND,CAQAJ,SAAS,CAAC,UAAM,CACd,GAAMe,YAAW,0FAAG,mLACKhB,MAAK,CAACiB,GAAN,8CACiBb,IADjB,kEADL,uCACVc,IADU,kBACVA,IADU,CAIlBX,SAAS,CAAC,CACRI,WAAW,CAAEO,IAAI,CAACZ,MADV,CAERI,cAAc,CAAE,EAFR,CAAD,CAAT,CAJkB,sDAAH,kBAAXM,YAAW,0CAAjB,CASAA,WAAW,GACX,MAAO,WAAM,CACXT,SAAS,CAAC,CACRI,WAAW,CAAE,EADL,CAERD,cAAc,CAAE,EAFR,CAAD,CAAT,CAID,CALD,CAMD,CAjBQ,CAiBN,CAACN,IAAD,CAAOG,SAAP,CAjBM,CAAT,CAmBA,mBACE,aAAK,KAAK,CAAE,CAAEY,OAAO,CAAE,KAAX,CAAZ,WACGb,MAAM,CAACI,cAAP,EACCJ,MAAM,CAACI,cAAP,CAAsBU,GAAtB,CAA0B,SAACX,KAAD,qBACxB,KAAC,IAAD,EAEE,KAAK,CAAEA,KAAK,CAACY,IAFf,CAGE,KAAK,CAAC,SAHR,CAIE,EAAE,CAAE,CAAEC,MAAM,CAAE,KAAV,CAJN,CAKE,SAAS,KALX,CAME,OAAO,CAAE,yBAAMP,sBAAqB,CAACN,KAAD,CAA3B,EANX,CAOE,QAAQ,CAAE,0BAAMM,sBAAqB,CAACN,KAAD,CAA3B,EAPZ,EACOA,KAAK,CAACK,EADb,CADwB,EAA1B,CAFJ,CAaGR,MAAM,CAACK,WAAP,EACCL,MAAM,CAACK,WAAP,CAAmBS,GAAnB,CAAuB,SAACX,KAAD,qBACrB,KAAC,IAAD,EAEE,KAAK,CAAEA,KAAK,CAACY,IAFf,CAGE,EAAE,CAAE,CAAEE,UAAU,CAAE,SAAd,CAAyBD,MAAM,CAAE,KAAjC,CAHN,CAIE,SAAS,KAJX,CAKE,OAAO,CAAE,yBAAMd,mBAAkB,CAACC,KAAD,CAAxB,EALX,EACOA,KAAK,CAACK,EADb,CADqB,EAAvB,CAdJ,GADF,CA0BD,CA/DD,CAiEA,cAAeZ,OAAf"},"metadata":{},"sourceType":"module"}