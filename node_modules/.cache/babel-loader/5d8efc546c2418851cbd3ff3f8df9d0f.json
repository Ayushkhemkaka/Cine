{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/ayush/Desktop/Ayush/cine-movie/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ayush/Desktop/Ayush/cine-movie/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\ayush\\\\Desktop\\\\Ayush\\\\cine-movie\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import Badge from\"@mui/material/Badge\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{img_300,unavailable}from\"../../config/config\";import ContentDialog from\"../ContentDialog/ContentDialog\";import YoutubeVideo from\"../YoutubeVideo/YoutubeVideo\";import Styles from\"./SingleContent.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SingleContent=function SingleContent(props){var id=props.id,poster=props.poster,title=props.title,date=props.date,media_type=props.media_type,vote_average=props.vote_average;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isDialogOpen=_useState2[0],setIsDialogOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isYoutubeDialogOpen=_useState4[0],setIsYoutubeDialogOpen=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),youtubeURL=_useState6[0],setYoutubeURL=_useState6[1];var ClickOpenDialog=function ClickOpenDialog(){setIsDialogOpen(true);};var handleCloseDialog=function handleCloseDialog(){setIsDialogOpen(false);};var handleYoutubeCloseDialog=function handleYoutubeCloseDialog(){setIsYoutubeDialogOpen(false);};var openYoutubeVideo=function openYoutubeVideo(){setIsDialogOpen(false);setIsYoutubeDialogOpen(true);// console.log(youtubeURL);\n};useEffect(function(){var fetchContentVideo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _data$results$;var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.themoviedb.org/3/\".concat(media_type,\"/\").concat(id,\"/videos?api_key=3a05ea73439bb4d6bb0aa75de8977942&language=en-US\"));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setYoutubeURL((_data$results$=data.results[0])===null||_data$results$===void 0?void 0:_data$results$.key);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchContentVideo(){return _ref.apply(this,arguments);};}();fetchContentVideo();},[media_type,id]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:Styles.post,onClick:function onClick(){return ClickOpenDialog();},children:[/*#__PURE__*/_jsx(Badge,{badgeContent:vote_average,color:vote_average>7.5?\"primary\":\"warning\"}),/*#__PURE__*/_jsx(\"img\",{className:Styles.image,src:poster?\"\".concat(img_300,\"/\").concat(poster):unavailable,alt:title}),/*#__PURE__*/_jsx(\"b\",{className:Styles.title,children:title}),/*#__PURE__*/_jsxs(\"span\",{className:Styles.typeAndDate,children:[media_type===\"tv\"?\"TV Series\":\"movie\",/*#__PURE__*/_jsx(\"span\",{className:Styles.typeAndDate,children:date})]})]}),/*#__PURE__*/_jsx(ContentDialog,{open:isDialogOpen,handleClose:handleCloseDialog,id:id,media_type:media_type,openYoutubeVideo:openYoutubeVideo}),isYoutubeDialogOpen&&/*#__PURE__*/_jsx(YoutubeVideo,{open:isYoutubeDialogOpen,handleClose:handleYoutubeCloseDialog,youtubeURL:youtubeURL})]});};export default SingleContent;","map":{"version":3,"names":["Badge","axios","useEffect","useState","img_300","unavailable","ContentDialog","YoutubeVideo","Styles","SingleContent","props","id","poster","title","date","media_type","vote_average","isDialogOpen","setIsDialogOpen","isYoutubeDialogOpen","setIsYoutubeDialogOpen","youtubeURL","setYoutubeURL","ClickOpenDialog","handleCloseDialog","handleYoutubeCloseDialog","openYoutubeVideo","fetchContentVideo","get","data","results","key","post","image","typeAndDate"],"sources":["C:/Users/ayush/Desktop/Ayush/cine-movie/src/components/SingleContent/SingleContent.js"],"sourcesContent":["import Badge from \"@mui/material/Badge\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { img_300, unavailable } from \"../../config/config\";\r\nimport ContentDialog from \"../ContentDialog/ContentDialog\";\r\nimport YoutubeVideo from \"../YoutubeVideo/YoutubeVideo\";\r\nimport Styles from \"./SingleContent.module.css\";\r\n\r\nconst SingleContent = (props) => {\r\n  const { id, poster, title, date, media_type, vote_average } = props;\r\n\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n  const [isYoutubeDialogOpen, setIsYoutubeDialogOpen] = useState(false);\r\n  const [youtubeURL, setYoutubeURL] = useState(\"\");\r\n\r\n  const ClickOpenDialog = () => {\r\n    setIsDialogOpen(true);\r\n  };\r\n  const handleCloseDialog = () => {\r\n    setIsDialogOpen(false);\r\n  };\r\n  const handleYoutubeCloseDialog = () => {\r\n    setIsYoutubeDialogOpen(false);\r\n  };\r\n  const openYoutubeVideo = () => {\r\n    setIsDialogOpen(false);\r\n    setIsYoutubeDialogOpen(true);\r\n    // console.log(youtubeURL);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchContentVideo = async () => {\r\n      const { data } = await axios.get(\r\n        `https://api.themoviedb.org/3/${media_type}/${id}/videos?api_key=3a05ea73439bb4d6bb0aa75de8977942&language=en-US`\r\n      );\r\n      setYoutubeURL(data.results[0]?.key);\r\n    };\r\n\r\n    fetchContentVideo();\r\n  }, [media_type, id]);\r\n  return (\r\n    <>\r\n      <div className={Styles.post} onClick={() => ClickOpenDialog()}>\r\n        <Badge\r\n          badgeContent={vote_average}\r\n          color={vote_average > 7.5 ? \"primary\" : \"warning\"}\r\n        ></Badge>\r\n        <img\r\n          className={Styles.image}\r\n          src={poster ? `${img_300}/${poster}` : unavailable}\r\n          alt={title}\r\n        />\r\n        <b className={Styles.title}>{title}</b>\r\n        <span className={Styles.typeAndDate}>\r\n          {media_type === \"tv\" ? \"TV Series\" : \"movie\"}\r\n          <span className={Styles.typeAndDate}>{date}</span>\r\n        </span>\r\n      </div>\r\n      <ContentDialog\r\n        open={isDialogOpen}\r\n        handleClose={handleCloseDialog}\r\n        id={id}\r\n        media_type={media_type}\r\n        openYoutubeVideo={openYoutubeVideo}\r\n      />\r\n      {isYoutubeDialogOpen && (\r\n        <YoutubeVideo\r\n          open={isYoutubeDialogOpen}\r\n          handleClose={handleYoutubeCloseDialog}\r\n          youtubeURL={youtubeURL}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SingleContent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}